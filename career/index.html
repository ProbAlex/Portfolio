<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alexander Dial - Portfolio | Career</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../styles.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#10b981',
                        accent: '#8b5cf6',
                        dark: '#1f2937',
                        light: '#f3f4f6',
                    },
                    boxShadow: {
                        'glow-red': '0 0 15px 5px rgba(239, 68, 68, 0.7)',
                        'sparkle-blue': '0 0 10px 2px rgba(59, 130, 246, 0.7), 0 0 15px 5px rgba(96, 165, 250, 0.4)',
                    },
                }
            }
        }
    </script>
</head>
<body class="bg-light text-dark min-h-screen flex flex-col">
    <!-- Navigation Bar -->
    <nav class="sticky top-0 bg-white shadow-md z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="text-2xl">
                <a href="../index.html"><span>ðŸ˜Ž</span></a> <!-- Sunglasses emoji with link to landing page -->
            </div>
            <ul class="flex space-x-6">
                <li><a href="/home" class="font-medium hover:text-primary transition-colors">Home</a></li>
                <li><a href="/skills" class="font-medium hover:text-primary transition-colors">Skills</a></li>
                <li><a href="/career" class="font-medium border-b-2 border-primary">Career</a></li>
                <li><a href="/projects" class="font-medium hover:text-primary transition-colors">Projects</a></li>
                <li><a href="/contact" class="font-medium hover:text-primary transition-colors">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Career Section with Timeline -->
    <section class="flex-grow py-12 bg-light">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center">My Career Journey</h2>
            <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
                <div id="timeline-container" class="relative">
                    <!-- Timeline will be generated here -->
                    <div id="timeline-content" class="relative">
                        <div class="text-center text-gray-500 py-4">Loading timeline...</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <style>
        /* Timeline Styles */
        .timeline-item {
            display: flex;
            margin-bottom: 1.5rem;
            position: relative;
        }
        
        .timeline-item:last-child {
            margin-bottom: 0;
        }
        
        .timeline-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 1.25rem;
            top: 2.5rem;
            bottom: -1.5rem;
            width: 2px;
            background: linear-gradient(to bottom, #3b82f6, #8b5cf6);
        }
        
        .timeline-dot {
            flex-shrink: 0;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            background-color: #3b82f6;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            position: relative;
            z-index: 1;
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .timeline-dot:hover {
            transform: scale(1.1);
            box-shadow: 0 0 0 6px rgba(59, 130, 246, 0.3), 0 0 15px rgba(59, 130, 246, 0.4);
        }
        
        .timeline-dot-inner {
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            background-color: white;
        }
        
        .timeline-content {
            flex-grow: 1;
            background-color: #f9fafb;
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .timeline-content:hover {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        
        .timeline-title {
            font-weight: 700;
            font-size: 1.125rem;
            margin-bottom: 0.25rem;
            color: #1f2937;
            cursor: pointer;
            display: inline-block;
            transition: color 0.3s ease;
        }
        
        .timeline-title:hover {
            color: #3b82f6;
        }
        
        .timeline-date {
            color: #6b7280;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        /* Responsive adjustments */
        @media (max-width: 640px) {
            .timeline-dot {
                width: 2rem;
                height: 2rem;
            }
            
            .timeline-dot-inner {
                width: 1.25rem;
                height: 1.25rem;
            }
            
            .timeline-item:not(:last-child)::after {
                left: 1rem;
            }
        }
    </style>

    <footer class="bg-dark text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2025 Alexander Dial. All rights reserved.</p>
        </div>
    </footer>

    <script src="../script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                // Fetch the career timeline data
                const response = await fetch('../assets/career.json');
                const careerData = await response.json();
                
                // Create the timeline
                createTimeline(careerData);
            } catch (error) {
                console.error('Error loading career timeline:', error);
                document.getElementById('timeline-content').innerHTML = 
                    '<p class="text-center text-red-500 py-10">Error loading timeline data. Please try again later.</p>';
            }
        });
        
        function createTimeline(data) {
            // Clear loading message
            const timelineContainer = document.getElementById('timeline-content');
            timelineContainer.innerHTML = '';
            
            const nodes = Object.entries(data);
            
            // Sort nodes by date (year and month)
            nodes.sort((a, b) => {
                const dateA = new Date(a[1].year, a[1].month - 1);
                const dateB = new Date(b[1].year, b[1].month - 1);
                return dateA - dateB;
            });
            
            // Month names for formatting
            const monthNames = [
                "January", "February", "March", "April", 
                "May", "June", "July", "August", 
                "September", "October", "November", "December"
            ];
            
            // Calculate time differences for spacing
            const firstDate = new Date(nodes[0][1].year, nodes[0][1].month - 1);
            const lastDate = new Date(nodes[nodes.length - 1][1].year, nodes[nodes.length - 1][1].month - 1);
            const totalMonths = (lastDate.getFullYear() - firstDate.getFullYear()) * 12 + 
                               (lastDate.getMonth() - firstDate.getMonth());
            
            // Create timeline items
            nodes.forEach((node, index) => {
                const [nodeName, nodeData] = node;
                
                // Create timeline item element
                const itemElement = document.createElement('div');
                itemElement.className = 'timeline-item';
                
                // Calculate months since first node for proportional spacing
                const currentDate = new Date(nodeData.year, nodeData.month - 1);
                const monthsSinceFirst = (currentDate.getFullYear() - firstDate.getFullYear()) * 12 + 
                                        (currentDate.getMonth() - firstDate.getMonth());
                
                // Format date
                const formattedDate = `${monthNames[nodeData.month - 1]} ${nodeData.year}`;
                
                // Create item content
                itemElement.innerHTML = `
                    <div class="timeline-dot" ${nodeData.click_url ? 
                        `onclick="window.open('${nodeData.click_url}', '_blank')"` : ''}>
                        <div class="timeline-dot-inner"></div>
                    </div>
                    <div class="timeline-content">
                        ${nodeData.click_url ? 
                            `<h3 class="timeline-title" onclick="window.open('${nodeData.click_url}', '_blank')">${nodeName}</h3>` : 
                            `<h3 class="timeline-title">${nodeName}</h3>`
                        }
                        <div class="timeline-date">${formattedDate}</div>
                    </div>
                `;
                
                timelineContainer.appendChild(itemElement);
            });
        }
    </script>
</body>
</html>
