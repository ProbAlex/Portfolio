<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alexander Dial - Portfolio | Skills</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#10b981',
                        accent: '#8b5cf6',
                        dark: '#1f2937',
                        light: '#f3f4f6',
                    },
                    boxShadow: {
                        'glow-red': '0 0 15px 5px rgba(239, 68, 68, 0.7)',
                        'sparkle-blue': '0 0 10px 2px rgba(59, 130, 246, 0.7), 0 0 15px 5px rgba(96, 165, 250, 0.4)',
                    },
                }
            }
        }
    </script>
    <style>
        /* Skills specific styles */
        .skills-container {
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: #3b82f6 #f3f4f6;
            padding: 20px 0;
        }

        .skills-container::-webkit-scrollbar {
            height: 8px;
        }

        .skills-container::-webkit-scrollbar-track {
            background: #f3f4f6;
            border-radius: 4px;
        }

        .skills-container::-webkit-scrollbar-thumb {
            background-color: #3b82f6;
            border-radius: 4px;
        }

        .skill-card {
            min-width: 280px;
            max-width: 280px;
            transition: all 0.3s ease;
        }

        .skill-card:hover {
            transform: translateY(-5px);
        }

        .proficiency-bar {
            height: 10px;
            border-radius: 5px;
            background: linear-gradient(to right, #ef4444, #f59e0b, #10b981);
            position: relative;
        }

        .proficiency-indicator {
            position: absolute;
            top: -6px;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #1f2937;
        }

        .frameworks-list {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .frameworks-list.active {
            max-height: 500px;
        }

        .confidence-gauge {
            position: relative;
            width: 60px;
            height: 30px;
            overflow: hidden;
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.2));
        }

        .gauge-background {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #f3f4f6;
            top: 0;
        }

        .gauge-fill {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(to right, #ef4444 0%, #f59e0b 50%, #10b981 100%);
            clip-path: polygon(50% 50%, 50% 0, 100% 0, 100% 100%, 0 100%, 0 0, 50% 0);
            transform-origin: center;
            top: 0;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .gauge-center {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: white;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.1);
            top: 15px;
            left: 15px;
            z-index: 2;
        }

        .gauge-needle {
            position: absolute;
            width: 2px;
            height: 22px;
            background: #1f2937;
            top: 8px;
            left: 29px;
            transform-origin: bottom center;
            z-index: 3;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
        }

        .gauge-needle::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #1f2937;
            top: -3px;
            left: -2px;
        }

        .logo-circle {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
        }

        .logo-circle img {
            width: 24px;
            height: 24px;
            object-fit: contain;
        }

        .framework-logo {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
        }

        .framework-logo img {
            width: 16px;
            height: 16px;
            object-fit: contain;
        }

        .toggle-frameworks {
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .toggle-frameworks.active {
            transform: rotate(180deg);
        }

        .frameworks-header {
            transition: background-color 0.3s ease;
        }

        .frameworks-header:hover {
            background-color: rgba(59, 130, 246, 0.1);
        }
    </style>
</head>
<body class="bg-light text-dark min-h-screen flex flex-col">
    <!-- Navigation Bar -->
    <nav class="sticky top-0 bg-white shadow-md z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="text-2xl">
                <a href="../index.html"><span>ðŸ˜Ž</span></a> <!-- Sunglasses emoji with link to landing page -->
            </div>
            <ul class="flex space-x-6">
                <li><a href="/home" class="font-medium hover:text-primary transition-colors">Home</a></li>
                <li><a href="/skills" class="font-medium border-b-2 border-primary">Skills</a></li>
                <li><a href="/career" class="font-medium hover:text-primary transition-colors">Career</a></li>
                <li><a href="/projects" class="font-medium hover:text-primary transition-colors">Projects</a></li>
                <li><a href="/contact" class="font-medium hover:text-primary transition-colors">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Skills Section -->
    <section class="flex-grow py-12 bg-light">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center">My Skills</h2>
            
            <!-- Skills content will be dynamically loaded here -->
            <div id="skills-content" class="space-y-12">
                <!-- Skills sections will be inserted here -->
                <div class="text-center py-8">
                    <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div>
                    <p class="mt-4 text-gray-600">Loading skills...</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-dark text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2025 Alexander Dial. All rights reserved.</p>
        </div>
    </footer>

    <script src="../script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                // Fetch skills data
                const response = await fetch('../assets/skills.json');
                if (!response.ok) {
                    throw new Error('Failed to load skills data');
                }
                const skillsData = await response.json();
                
                // Clear loading indicator
                document.getElementById('skills-content').innerHTML = '';
                
                // Process each section
                Object.entries(skillsData).forEach(([sectionTitle, skills]) => {
                    const sectionElement = createSkillSection(sectionTitle, skills);
                    document.getElementById('skills-content').appendChild(sectionElement);
                });
            } catch (error) {
                console.error('Error loading skills:', error);
                document.getElementById('skills-content').innerHTML = `
                    <div class="text-center py-8">
                        <p class="text-red-500">Error loading skills data. Please try again later.</p>
                    </div>
                `;
            }
        });
        
        function createSkillSection(title, skills) {
            const section = document.createElement('div');
            section.className = 'mb-12';
            
            // Create section title
            const sectionTitle = document.createElement('h3');
            sectionTitle.className = 'text-2xl font-bold mb-6 text-center md:text-left';
            sectionTitle.textContent = title;
            section.appendChild(sectionTitle);
            
            // Create scrollable container for skill cards
            const container = document.createElement('div');
            container.className = 'skills-container';
            
            // Create flex container for cards
            const cardsContainer = document.createElement('div');
            cardsContainer.className = 'flex space-x-6 pb-4 px-2';
            
            // Add skill cards
            skills.forEach(skill => {
                const card = createSkillCard(skill);
                cardsContainer.appendChild(card);
            });
            
            container.appendChild(cardsContainer);
            section.appendChild(container);
            
            return section;
        }
        
        function createSkillCard(skill) {
            const card = document.createElement('div');
            card.className = 'skill-card bg-white p-5 rounded-lg shadow-lg';
            card.style.borderColor = skill.outline_color;
            card.style.borderWidth = '2px';
            card.style.borderStyle = 'solid';
            
            // Header with logo and title
            const header = document.createElement('div');
            header.className = 'flex items-center mb-4';
            
            const logoCircle = document.createElement('div');
            logoCircle.className = 'logo-circle mr-3';
            
            const logo = document.createElement('img');
            logo.src = skill.box_image;
            logo.alt = `${skill.box_title} logo`;
            logoCircle.appendChild(logo);
            
            const title = document.createElement('h4');
            title.className = 'text-lg font-bold';
            title.textContent = skill.box_title;
            
            header.appendChild(logoCircle);
            header.appendChild(title);
            card.appendChild(header);
            
            // Proficiency bar
            const proficiencyContainer = document.createElement('div');
            proficiencyContainer.className = 'mb-6';
            
            const proficiencyLabel = document.createElement('p');
            proficiencyLabel.className = 'text-sm text-gray-600 mb-2';
            proficiencyLabel.textContent = 'Proficiency';
            
            const proficiencyBar = document.createElement('div');
            proficiencyBar.className = 'proficiency-bar';
            
            const proficiencyIndicator = document.createElement('div');
            proficiencyIndicator.className = 'proficiency-indicator';
            // Position indicator based on proficiency (1-10 scale)
            const position = (skill.proficiency - 1) / 9 * 100;
            proficiencyIndicator.style.left = `${position}%`;
            
            proficiencyBar.appendChild(proficiencyIndicator);
            
            const proficiencyValue = document.createElement('p');
            proficiencyValue.className = 'text-right text-sm mt-1';
            proficiencyValue.textContent = skill.proficiency.toFixed(1) + '/10';
            
            proficiencyContainer.appendChild(proficiencyLabel);
            proficiencyContainer.appendChild(proficiencyBar);
            proficiencyContainer.appendChild(proficiencyValue);
            card.appendChild(proficiencyContainer);
            
            // Frameworks section (if any)
            if (skill.frameworks && skill.frameworks.length > 0) {
                const frameworksContainer = document.createElement('div');
                frameworksContainer.className = 'mt-4';
                
                const frameworksHeader = document.createElement('div');
                frameworksHeader.className = 'frameworks-header flex justify-between items-center text-gray-500 text-sm cursor-pointer p-2 rounded';
                frameworksHeader.innerHTML = `
                    <span>Frameworks</span>
                    <i class="fas fa-chevron-down toggle-frameworks"></i>
                `;
                
                // Make the entire header clickable
                frameworksHeader.addEventListener('click', function() {
                    const frameworksList = this.nextElementSibling;
                    frameworksList.classList.toggle('active');
                    this.querySelector('.toggle-frameworks').classList.toggle('active');
                });
                
                const frameworksList = document.createElement('div');
                frameworksList.className = 'frameworks-list mt-2 pl-2';
                
                skill.frameworks.forEach(framework => {
                    const frameworkItem = document.createElement('div');
                    frameworkItem.className = 'flex items-center justify-between py-2 border-b border-gray-100';
                    
                    const frameworkInfo = document.createElement('div');
                    frameworkInfo.className = 'flex items-center';
                    
                    const frameworkLogo = document.createElement('div');
                    frameworkLogo.className = 'framework-logo mr-2';
                    
                    const frameworkLogoImg = document.createElement('img');
                    frameworkLogoImg.src = framework.image;
                    frameworkLogoImg.alt = `${framework.title} logo`;
                    frameworkLogo.appendChild(frameworkLogoImg);
                    
                    const frameworkTitle = document.createElement('span');
                    frameworkTitle.className = 'text-sm';
                    frameworkTitle.textContent = framework.title;
                    
                    frameworkInfo.appendChild(frameworkLogo);
                    frameworkInfo.appendChild(frameworkTitle);
                    
                    // Enhanced confidence gauge
                    const confidenceGauge = createEnhancedConfidenceGauge(framework.confidence);
                    
                    frameworkItem.appendChild(frameworkInfo);
                    frameworkItem.appendChild(confidenceGauge);
                    frameworksList.appendChild(frameworkItem);
                });
                
                frameworksContainer.appendChild(frameworksHeader);
                frameworksContainer.appendChild(frameworksList);
                card.appendChild(frameworksContainer);
            }
            
            return card;
        }
        
        function createEnhancedConfidenceGauge(confidence) {
            const gaugeContainer = document.createElement('div');
            gaugeContainer.className = 'confidence-gauge';
            
            const gaugeBackground = document.createElement('div');
            gaugeBackground.className = 'gauge-background';
            
            const gaugeFill = document.createElement('div');
            gaugeFill.className = 'gauge-fill';
            
            // Calculate rotation based on confidence (1-10 scale)
            // 0 confidence = -90deg (left), 10 confidence = 90deg (right)
            const rotation = -90 + (confidence - 1) / 9 * 180;
            gaugeFill.style.transform = `rotate(${rotation}deg)`;
            
            // Create a custom colored gauge fill based on the confidence value
            // This ensures the color at the needle position matches the confidence level
            let needleColor;
            if (confidence < 4) {
                needleColor = '#ef4444'; // Red for low confidence
            } else if (confidence < 7) {
                needleColor = '#f59e0b'; // Amber for medium confidence
            } else {
                needleColor = '#10b981'; // Green for high confidence
            }
            
            const gaugeCenter = document.createElement('div');
            gaugeCenter.className = 'gauge-center';
            
            const gaugeNeedle = document.createElement('div');
            gaugeNeedle.className = 'gauge-needle';
            gaugeNeedle.style.transform = `rotate(${rotation}deg)`;
            gaugeNeedle.style.backgroundColor = needleColor;
            
            gaugeContainer.appendChild(gaugeBackground);
            gaugeContainer.appendChild(gaugeFill);
            gaugeContainer.appendChild(gaugeCenter);
            gaugeContainer.appendChild(gaugeNeedle);
            
            // Add tooltip with numeric value
            gaugeContainer.title = `Confidence: ${confidence.toFixed(1)}/10`;
            
            // Add animation on hover
            gaugeContainer.addEventListener('mouseenter', function() {
                gaugeNeedle.style.transform = `rotate(${rotation + 10}deg)`;
                setTimeout(() => {
                    gaugeNeedle.style.transform = `rotate(${rotation}deg)`;
                }, 300);
            });
            
            return gaugeContainer;
        }
    </script>
</body>
</html>
